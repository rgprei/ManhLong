<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Public Network Security Scanner</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">

<style>
*{box-sizing:border-box}
body{
    margin:0;
    font-family:monospace;
    background:linear-gradient(135deg,#020024,#090979,#000);
    color:#00ffcc;
}
.container{
    max-width:700px;
    margin:auto;
    padding:20px;
}
.card{
    background:rgba(0,0,0,.65);
    border:1px solid #00ffcc33;
    border-radius:14px;
    padding:20px;
    box-shadow:0 0 30px #00ffcc22;
}
h1{text-align:center;margin:0}
.sub{text-align:center;font-size:13px;opacity:.7;margin-bottom:20px}

.greeting{
    text-align:center;
    font-size:26px;
    letter-spacing:2px;
    margin-bottom:20px;
    color:#00ffcc;
    text-shadow:0 0 10px #00ffcc88;
}

.row{
    padding:10px 0;
    border-bottom:1px dashed #00ffcc22;
}
.status{
    text-align:center;
    font-size:22px;
    margin:20px 0;
    padding:10px;
    border-radius:10px;
}
.safe{color:#00ff88;border:1px solid #00ff8844}
.warn{color:#ffcc00;border:1px solid #ffcc0044}
.danger{color:#ff4444;border:1px solid #ff444444}
button{
    width:100%;
    padding:14px;
    margin-top:15px;
    background:#00ffcc;
    color:#000;
    border:none;
    border-radius:10px;
    font-size:16px;
    cursor:pointer;
}
.log{
    font-size:12px;
    opacity:.6;
    margin-top:10px;
    text-align:center;
}
.blink{animation:blink 1s infinite}
@keyframes blink{50%{opacity:.3}}
</style>
</head>

<body>
<div class="greeting">hi gia h√¢n</div>

<div class="container">
<div class="card">
<h1>üîê NETWORK SECURITY SCAN</h1>
<div class="sub">Public Wi-Fi ‚Ä¢ Client-side scan ‚Ä¢ No data stored</div>

<div id="final" class="status blink">Scanning...</div>

<div class="row" id="r_https"></div>
<div class="row" id="r_content"></div>
<div class="row" id="r_network"></div>
<div class="row" id="r_vpn"></div>
<div class="row" id="r_ip"></div>
<div class="row" id="r_dns"></div>
<div class="row" id="r_dev"></div>

<button onclick="scan()">üîç RESCAN</button>
<div class="log">v1.0 ‚Ä¢ Offline-friendly ‚Ä¢ Educational use</div>
</div>
</div>

<script>
async function scan(){
let risk=0;
const out=(id,text)=>document.getElementById(id).innerText=text;

// HTTPS
if(location.protocol==="https:"){
out("r_https","‚úî HTTPS: Encrypted connection");
}else{
out("r_https","‚úñ HTTPS: NOT SECURE");
risk+=3;
}

// Mixed content
if(performance.getEntriesByType("resource").some(r=>r.name.startsWith("http://"))){
out("r_content","‚ö† Mixed content detected");
risk+=2;
}else{
out("r_content","‚úî No mixed content");
}

// Network
if(navigator.connection){
out("r_network","üì∂ Network: "+navigator.connection.effectiveType);
if(navigator.connection.effectiveType.includes("2g")) risk++;
}else{
out("r_network","üì∂ Network: Unknown (possible public Wi-Fi)");
risk++;
}

// VPN / Proxy heuristic
let vpn=false;
if(navigator.webdriver) vpn=true;
if(screen.width===800 && screen.height===600) vpn=true;
if(vpn){
out("r_vpn","‚ö† VPN / Proxy / Automation suspected");
risk++;
}else{
out("r_vpn","‚úî No VPN / Proxy detected");
}

// IP info
try{
let r=await fetch("https://ipapi.co/json/");
let d=await r.json();
out("r_ip",`üåç IP: ${d.ip} ‚Ä¢ ${d.country_name} ‚Ä¢ ${d.org}`);
if(d.org && d.org.toLowerCase().includes("free")) risk++;
}catch{
out("r_ip","‚ö† IP lookup blocked");
risk++;
}

// DNS heuristic
if(navigator.connection && navigator.connection.type==="wifi" && !vpn){
out("r_dns","‚ö† Possible DNS leak on public Wi-Fi");
risk++;
}else{
out("r_dns","‚úî DNS looks normal");
}

// DevTools
let dev=false;
if(window.outerWidth-window.innerWidth>160) dev=true;
if(dev){
out("r_dev","‚ö† DevTools / Injection environment detected");
risk++;
}else{
out("r_dev","‚úî Runtime environment clean");
}

// Final
const f=document.getElementById("final");
f.classList.remove("blink","safe","warn","danger");

if(risk<=1){
f.innerText="SAFE ‚Äì Low risk network";
f.classList.add("safe");
}else if(risk<=4){
f.innerText="WARNING ‚Äì Avoid logging in";
f.classList.add("warn");
}else{
f.innerText="DANGER ‚Äì High MITM risk";
f.classList.add("danger");
}
}

scan();
</script>
</body>
</html>
